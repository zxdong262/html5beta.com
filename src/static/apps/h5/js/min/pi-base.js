$(function () { function t () { const t = $('body').hasClass('home') || $('body').hasClass('tag'); const o = $(t ? 'h1, #footer-widgets h3, .post-title h2' : 'h1, #footer-widgets h3, h2'); let a = '<div id="sidenav"><div id="sidenav-inner"><ul>'; o.each(function (t, e) { const o = $(this); o.before('<a href="#" name="nav-' + t + '"></a>'), a += '<li><a href="#nav-' + t + '">' + o.text() + '</a></li>' }), $('#header a').prop('name', 'top'), $('body').append(a + '</ul><p><a href="#top">&uarr;top</a></p></div></div>'), e(), $('#sidenav').hover(function () { $(this).addClass('hover'), e() }, function () { $(this).removeClass('hover'), $('#sidenav').removeClass('scroll') }) } function e () { const t = 0.9 * $(window).height(); sn = $('#sidenav-inner').height(), sn > t ? $('#sidenav').addClass('scroll') : $('#sidenav').removeClass('scroll') } function o () { const t = c.wrap; const e = t.width(); const o = t.height(); t.prop({ width: e, height: o }), c.width = e, c.height = o, e < 768 && (c.stop(), clearTimeout(c.timerHandle0)) } function a () { const t = $('body'); const e = t.width(); const a = t.height(); (l !== e || d !== a) && (o(), l = e, d = a) } function n () { let t = location.href.split('#')[0]; t === h5.host + '/' && (t = h5.host); const e = $('#nav a[href="' + t + '"]').parent(); e.parents('li').length ? e.parents('li').addClass('active') : e.addClass('active') } function i (t, e) { let o; const a = function () { t(), o = setTimeout(a, e) }; o = setTimeout(a, e) } var s = !1; const r = $('#cbg')[0]; const h = r.getContext ? !0 : !1; var s = 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch; var l = $('body').width(); var d = $('body').height(); var c = null; $('.centered').addClass('container'), $('[title]').tooltip({ placement: 'bottom' }), n(), i(a, 1500); const p = $('pre'); const u = ($('code'), s ? '' : 'contentEditable="true"'); if (p.each(function () { const t = $(this); const e = t.html().replace(/\\t/g, '    '); t.html(e), t.addClass('prettyprint lang-' + t.prop('lang')).wrapInner('<code ' + u + ' />') }), prettyPrint(), h && $('#qr1').qrcode({ width: 128, height: 128, text: window.location.href }), $('#no-sidenav').length || t(), !$('#no-bubble').length && h) { c = new Shapes('#cbg', {}), c.methodsPool = ['light'], o(), window.shapesInst = c, c.start(), $(window).on('resize', o), $('#footer .addBubble').click(function () { c.pushShape({}) }), $('#footer .stop').click(function () { const t = $(this); t.hasClass('off') ? (t.removeClass('off').text('Stop it'), c.start()) : (t.addClass('off').text('Continue'), c.clearShapes(), c.stop()) }), $('#footer .faster').click(function () { c.opts.step++, c.opts.step > 100 && (c.opts.step = 100) }); const f = ['star', 'bubble', 'heart', 'light', 'balloon']; const v = f.concat(['random']); const m = v.length; let g = 2; $('#footer .fish, .change-shape').click(function () { c.stop(); const t = v[g]; c.methodsPool = t !== 'random' ? [t] : f, c.shapes = [], c.start(), g = (g + 1 + m) % m }), $('.shapes-to-text').click(function () { function t () { function t () { c.moveTo(o), c.renderShapes(), c.timerHandle0 = setTimeout(function () { return c.arriveTarget ? clearTimeout(c.timerHandle0) : void t() }, c.opts.timer) }clearTimeout(c.timerHandle), t() }c.stop(), clearTimeout(c.timerHandle0), c.methodsPool.length === 1 && c.methodsPool[0] === 'light' && (c.methodsPool = f); const e = ('' + Math.random()).slice(2, 6); $(this).text(e); var o = c.buildPosArrayFromText(e, { fontSize: 100, top: 100 }); c.opts.shapeCount = o.length, c.opts.minSize = 5, c.opts.maxSize = 5, c.shapes = [], c.start(), setTimeout(t, 1e3) }) } else $('.exp').hide() })
